import{r as m,a2 as ne,a3 as re,h as K,j as r,p as oe,a4 as ae,L as H,a5 as ie,l as le,m as ce,g as ue,a6 as de}from"./index-iUiVPI1x.js";import{M as fe,P as pe,T as me,n as he,D as J,N as xe,a as ye,b as ge}from"./CollapsibleSide-Dxd6XFnK.js";import{m as q}from"./proxy-DIThota5.js";import{T as je}from"./index-BfG-EDSm.js";import"./notepad-text-DkEiiUCW.js";import"./createLucideIcon-BNplLJn_.js";import"./telescope-CfYJalOJ.js";import"./headset-BJ9iRGIZ.js";import"./user-cog-U3PhCD16.js";import"./chevron-up-COBmi8we.js";import"./index-D8yoDVd_.js";import"./classNames-CarkrQXt.js";import"./floating-ui.react-dom-Bd-jVGhq.js";import"./user-B8eKSXRd.js";import"./settings-DrtjXZJ_.js";import"./sparkles-DpL4v74S.js";import"./Logo-8Yt5lYwO.js";import"./index-Dauiz24F.js";const Ce=(e,t,s,o)=>{var n,l,f,p;const a=[s,{code:t,...o||{}}];if((l=(n=e==null?void 0:e.services)==null?void 0:n.logger)!=null&&l.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);E(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(p=(f=e==null?void 0:e.services)==null?void 0:f.logger)!=null&&p.warn?e.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},z={},S=(e,t,s,o)=>{E(s)&&z[s]||(E(s)&&(z[s]=new Date),Ce(e,t,s,o))},W=(e,t)=>()=>{if(e.isInitialized)t();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},_=(e,t,s)=>{e.loadNamespaces(t,W(e,s))},R=(e,t,s,o)=>{if(E(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return _(e,s,o);s.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,W(e,o))},Ne=(e,t,s={})=>!t.languages||!t.languages.length?(S(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:s.lng,precheck:(o,a)=>{var n;if(((n=s.bindI18n)==null?void 0:n.indexOf("languageChanging"))>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,e))return!1}}),E=e=>typeof e=="string",be=e=>typeof e=="object"&&e!==null,Ie=m.createContext();class Me{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ee=(e,t)=>{const s=m.useRef();return m.useEffect(()=>{s.current=e},[e,t]),s.current},X=(e,t,s,o)=>e.getFixedT(t,s,o),Pe=(e,t,s,o)=>m.useCallback(X(e,t,s,o),[e,t,s,o]),we=(e,t={})=>{var F,D,L,$;const{i18n:s}=t,{i18n:o,defaultNS:a}=m.useContext(Ie)||{},n=s||o||ne();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new Me),!n){S(n,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const y=(b,I)=>E(I)?I:be(I)&&E(I.defaultValue)?I.defaultValue:Array.isArray(b)?b[b.length-1]:b,N=[y,{},!1];return N.t=y,N.i18n={},N.ready=!1,N}(F=n.options.react)!=null&&F.wait&&S(n,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...re(),...n.options.react,...t},{useSuspense:f,keyPrefix:p}=l;let c=a||((D=n.options)==null?void 0:D.defaultNS);c=E(c)?[c]:c||["translation"],($=(L=n.reportNamespaces).addUsedNamespaces)==null||$.call(L,c);const d=(n.isInitialized||n.initializedStoreOnce)&&c.every(y=>Ne(y,n,l)),i=Pe(n,t.lng||null,l.nsMode==="fallback"?c:c[0],p),x=()=>i,g=()=>X(n,t.lng||null,l.nsMode==="fallback"?c:c[0],p),[M,h]=m.useState(x);let j=c.join();t.lng&&(j=`${t.lng}${j}`);const C=Ee(j),u=m.useRef(!0);m.useEffect(()=>{const{bindI18n:y,bindI18nStore:N}=l;u.current=!0,!d&&!f&&(t.lng?R(n,t.lng,c,()=>{u.current&&h(g)}):_(n,c,()=>{u.current&&h(g)})),d&&C&&C!==j&&u.current&&h(g);const b=()=>{u.current&&h(g)};return y&&(n==null||n.on(y,b)),N&&(n==null||n.store.on(N,b)),()=>{u.current=!1,n&&(y==null||y.split(" ").forEach(I=>n.off(I,b))),N&&n&&N.split(" ").forEach(I=>n.store.off(I,b))}},[n,j]),m.useEffect(()=>{u.current&&d&&h(x)},[n,p,d]);const w=[M,n,d];if(w.t=M,w.i18n=n,w.ready=d,d||!d&&!f)return w;throw new Promise(y=>{t.lng?R(n,t.lng,c,()=>y()):_(n,c,()=>y())})},T=m.createContext({}),Ke=T.Provider,Ae=T.Consumer,Te=e=>{const{children:t,className:s,defaultActiveKeys:o=[],defaultExpandedKeys:a=[],defaultCollapseActiveKeys:n=[],menuItemHeight:l=48,onSelect:f,ref:p,sideCollapsed:c=!1,...d}=e,x=K("menu",s);return r.jsx("nav",{ref:p,className:x,...d,children:r.jsx(Ke,{value:{onSelect:f,menuItemHeight:l,sideCollapsed:c,defaultExpandedKeys:a,defaultActiveKeys:o,defaultCollapseActiveKeys:n},children:t})})},B=m.createContext(null),Oe=B.Provider,ke=B.Consumer,Q=m.createContext(!1),Se=Q.Provider,_e=Q.Consumer,Z=e=>{const{eventKey:t,...s}=e;return r.jsx(Ae,{children:o=>r.jsx(ke,{children:()=>r.jsx(_e,{children:()=>r.jsx(fe,{menuItemHeight:o.menuItemHeight,isActive:o.defaultActiveKeys.includes(t),eventKey:t,onSelect:o.onSelect,...s})})})})};Z.displayName="MenuItem";const v=e=>{const{active:t,children:s,className:o,eventKey:a,expanded:n=!1,indent:l=!0,label:f=null,dotIndent:p,onToggle:c}=e,[d,i]=m.useState(n),{sideCollapsed:x,defaultExpandedKeys:g,defaultCollapseActiveKeys:M}=m.useContext(T),{direction:h}=oe();m.useEffect(()=>{g.includes(a)&&i(!0),n!==d&&i(!0)},[n,a,g]);const j=u=>{typeof c=="function"&&c(!d,u),i(!d)},C=K("menu-collapse-item",(M&&M.includes(a)||t)&&"menu-collapse-item-active",o);return r.jsxs("div",{className:"menu-collapse",children:[r.jsxs("div",{className:C,role:"presentation",onClick:j,children:[r.jsxs("span",{className:"flex items-center gap-2",children:[p&&r.jsx(pe,{className:K("text-3xl w-[24px]",!t&&"opacity-25")}),f]}),r.jsx(q.span,{className:"text-lg mt-1",initial:{transform:"rotate(0deg)"},animate:{transform:d?"rotate(-180deg)":"rotate(0deg)"},transition:{duration:.15},children:x?null:r.jsx(me,{})})]}),r.jsx(Se,{value:d,children:r.jsx(q.ul,{className:l?h==="rtl"?"mr-8":"ml-8":"",initial:{opacity:0,height:0,overflow:"hidden"},animate:{opacity:d?1:0,height:d?"auto":0},transition:{duration:.15},children:s})})]})};v.displayName="MenuCollapse";const ee=e=>{const{label:t,children:s,className:o}=e,{sideCollapsed:a}=m.useContext(T),l=K("menu-group",o);return r.jsxs("div",{className:l,children:[t&&!a&&r.jsx("div",{className:K("menu-title"),children:t}),r.jsx(Oe,{value:null,children:r.jsx("ul",{children:s})})]})};ee.displayName="MenuGroup";const P=Te;P.MenuItem=Z;P.MenuCollapse=v;P.MenuGroup=ee;const A=e=>{const{userAuthority:t=[],authority:s=[],children:o}=e,a=ae(t,s);return r.jsx(r.Fragment,{children:a?o:null})},G=({icon:e})=>{if(typeof e!="string"&&!e)return r.jsx(r.Fragment,{});const t=he[e];return r.jsx(r.Fragment,{children:t&&r.jsx("span",{className:"text-2xl",children:r.jsx(t,{})})})},{MenuItem:Ge}=P,Fe=({nav:e,children:t,direction:s,renderAsIcon:o,onLinkClick:a,userAuthority:n,t:l,currentKey:f})=>r.jsx(A,{userAuthority:n,authority:e.authority,children:o?r.jsx(je,{title:l(e.translateKey,e.title),placement:s==="rtl"?"left":"right",children:t}):r.jsx(J.Item,{active:f===e.key,children:e.path?r.jsx(H,{className:"h-full w-full flex items-center outline-hidden",to:e.path,target:e.isExternalLink?"_blank":"",onClick:()=>a==null?void 0:a({key:e.key,title:e.title,path:e.path}),children:r.jsx("span",{children:l(e.translateKey,e.title)})}):r.jsx("span",{children:l(e.translateKey,e.title)})})}),V=e=>{const{nav:t,onLinkClick:s,showTitle:o,indent:a,showIcon:n=!0,userAuthority:l,t:f}=e;return r.jsx(A,{userAuthority:l,authority:t.authority,children:r.jsx(Ge,{eventKey:t.key,dotIndent:a,children:r.jsxs(H,{to:t.path,className:"flex items-center gap-2 h-full w-full",target:t.isExternalLink?"_blank":"",onClick:()=>s==null?void 0:s({key:t.key,title:t.title,path:t.path}),children:[n&&r.jsx(G,{icon:t.icon}),o&&r.jsx("span",{children:f(t.translateKey,t.title)})]})},t.key)})},De=({nav:e,onLinkClick:t,sideCollapsed:s,direction:o,indent:a,renderAsIcon:n,userAuthority:l,showIcon:f,showTitle:p,t:c,currentKey:d,parentKeys:i})=>r.jsx(r.Fragment,{children:s?r.jsx(Fe,{currentKey:d,parentKeys:i,nav:e,direction:o,renderAsIcon:n,userAuthority:l,t:c,onLinkClick:t,children:r.jsx(V,{nav:e,sideCollapsed:s,userAuthority:l,showIcon:f,showTitle:p,t:c,onLinkClick:t})}):r.jsx(V,{nav:e,sideCollapsed:s,userAuthority:l,showIcon:f,showTitle:p,indent:a,t:c,onLinkClick:t})}),{MenuItem:Le,MenuCollapse:$e}=P,qe=({nav:e,indent:t,dotIndent:s,children:o,userAuthority:a,t:n})=>r.jsx(A,{userAuthority:a,authority:e.authority,children:r.jsx($e,{label:r.jsxs(r.Fragment,{children:[r.jsx(G,{icon:e.icon}),r.jsx("span",{children:n(e.translateKey,e.title)})]}),eventKey:e.key,expanded:!1,dotIndent:s,indent:t,children:o},e.key)}),ze=({nav:e,direction:t,children:s,t:o,renderAsIcon:a,userAuthority:n,parentKeys:l})=>{const f=r.jsx(Le,{isActive:l==null?void 0:l.includes(e.key),eventKey:e.key,className:"mb-2",children:r.jsx(G,{icon:e.icon})},e.key),p=r.jsx("div",{children:o(e.translateKey,e.title)},e.key);return r.jsx(A,{userAuthority:n,authority:e.authority,children:r.jsx(J,{trigger:"hover",renderTitle:a?f:p,placement:t==="rtl"?"left-start":"right-start",children:s})})},Re=({sideCollapsed:e,...t})=>e?r.jsx(ze,{...t}):r.jsx(qe,{...t});var O,U;function Ve(){if(U)return O;U=1;var e=ie(),t=e(Object.getPrototypeOf,Object);return O=t,O}var k,Y;function Ue(){if(Y)return k;Y=1;var e=le(),t=Ve(),s=ce(),o="[object Object]",a=Function.prototype,n=Object.prototype,l=a.toString,f=n.hasOwnProperty,p=l.call(Object);function c(d){if(!s(d)||e(d)!=o)return!1;var i=t(d);if(i===null)return!0;var x=f.call(i,"constructor")&&i.constructor;return typeof x=="function"&&x instanceof x&&l.call(x)==p}return k=c,k}var Ye=Ue();const He=ue(Ye),te=(e,t)=>{var a;if(!Array.isArray(e)&&e.key===t)return e;let s,o=!1;for(const n in e)if(n!=="icon"&&e.hasOwnProperty(n)&&typeof e[n]=="object"&&(He(e[n])&&((a=e[n].subMenu)==null?void 0:a.length)>0&&e[n].subMenu.some(l=>l.key===t)&&(o=!0),s=te(e[n],t),s))return o&&(s.parentKey=e[n].key),s;return s},se=(e,t)=>e.find(o=>o.key===t)?!0:e.some(o=>se(o.subMenu,t)),Je=(e,t)=>{let s={};return e.forEach(o=>{se([o],t)&&(s=o)}),s};function We(e,t){const s=m.useMemo(()=>te(e,t),[e,t]),o=m.useMemo(()=>Je(e,t),[e,t]);return{activedRoute:s,includedRouteTree:o}}const Xe=e=>{const t=(a,n)=>typeof n=="string"?n:"",s=()=>({t,ready:!0,i18n:""}),o=we();return e?s():o},{MenuGroup:Be}=P,ht=e=>{const{collapsed:t,routeKey:s,navigationTree:o=[],onMenuItemClick:a,direction:n=de.direction,translationSetup:l,userAuthority:f}=e,{t:p}=Xe(!l),[c,d]=m.useState([]),{activedRoute:i}=We(o,s);m.useEffect(()=>{i!=null&&i.parentKey&&d([i==null?void 0:i.parentKey])},[i==null?void 0:i.parentKey]);const x=()=>{a==null||a()},g=(M,h=0,j)=>{const C=h+1;return r.jsx(r.Fragment,{children:M.map(u=>r.jsxs(m.Fragment,{children:[u.type===xe&&r.jsx(De,{currentKey:i==null?void 0:i.key,parentKeys:c,nav:u,sideCollapsed:t,direction:n,indent:j,renderAsIcon:h<=0,showIcon:h<=0,userAuthority:f,showTitle:t?h>=1:h<=1,t:p,onLinkClick:x},u.key),u.type===ye&&r.jsx(Re,{currentKey:i==null?void 0:i.key,parentKeys:c,nav:u,sideCollapsed:t,direction:n,indent:C>=2,dotIndent:C>=2,renderAsIcon:C<=1,userAuthority:f,t:p,onLinkClick:a,children:u.subMenu&&u.subMenu.length>0&&g(u.subMenu,C,!0)},u.key),u.type===ge&&r.jsx(A,{userAuthority:f,authority:u.authority,children:r.jsx(Be,{label:p(u.translateKey)||u.title,children:u.subMenu&&u.subMenu.length>0&&g(u.subMenu,h,!1)},u.key)})]},u.key))})};return r.jsx(P,{className:"px-4 pb-4",sideCollapsed:t,defaultActiveKeys:i!=null&&i.key?[i.key]:[],defaultExpandedKeys:c,defaultCollapseActiveKeys:i!=null&&i.parentKey?[i.parentKey]:[],children:g(o,0)})};export{ht as default};
