import{r as u,h as de,j as P,G as st,V as ln,W as fn}from"./index-iUiVPI1x.js";import{i as dn,b as we,c as jt,u as Bn,d as he,g as Vn,e as ft,h as Gn,j as dt,k as Un,l as qn,m as mn,o as Hn,f as zn,s as Yn,a as Xn}from"./floating-ui.react-dom-Bd-jVGhq.js";import{A as Zn}from"./index-Dauiz24F.js";import{m as Jn}from"./proxy-DIThota5.js";const Qn=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&typeof n=="object"&&(n.current=t)})},gn=e=>{const{alt:t,className:n,icon:r,ref:s=null,shape:i="circle",size:o="md",src:c,srcSet:g,...a}=e;let{children:l}=e;const[p,m]=u.useState(1),d=u.useRef(null),v=u.useRef(null),f=Qn(s,v),I=()=>{if(!d.current||!v.current)return;const x=d.current.offsetWidth,C=v.current.offsetWidth;x===0||C===0||m(C-8<x?(C-8)/x:1)};u.useEffect(()=>{I()},[p,l]);const S=typeof o=="number"?{width:o,height:o,minWidth:o,lineHeight:`${o}px`,fontSize:r?o/2:12}:{},y=de("avatar",`avatar-${i}`,typeof o=="string"?`avatar-${o}`:"",n);if(c)l=P.jsx("img",{className:`avatar-img avatar-${i}`,src:c,srcSet:g,alt:t,loading:"lazy"});else if(r)l=P.jsx("span",{className:de("avatar-icon",`avatar-icon-${o}`),children:r});else{const x=typeof o=="number"?{lineHeight:`${o}px`}:{},C={transform:`translateX(-50%) scale(${p})`};l=P.jsx("span",{ref:d,className:`avatar-string ${typeof o=="number"?"":`avatar-inner-${o}`}`,style:{...x,...C,...typeof o=="number"?{height:o}:{}},children:l})}return P.jsx("span",{ref:f,className:y,style:{...S,...a.style},...a,children:l})};function mt(e){return st({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},child:[]}]})(e)}function gt(e){return st({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"},child:[]}]})(e)}function pt(e){return st({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"},child:[]}]})(e)}function vt(e){return st({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"},child:[]}]})(e)}const er=({placement:e,color:t})=>{const n=`absolute ${t}`,r=()=>{switch(e){case"top":return P.jsx(mt,{className:de(n,"-bottom-2 w-full left-0")});case"top-start":return P.jsx(mt,{className:de(n,"-bottom-2 left-0 ml-3")});case"top-end":return P.jsx(mt,{className:de(n,"-bottom-2 right-0 mr-3")});case"right":return P.jsx(gt,{className:de(n,"-left-2 top-1/2 transform -translate-y-1/2")});case"right-start":return P.jsx(gt,{className:de(n,"-left-2 top-2")});case"right-end":return P.jsx(gt,{className:de(n,"-left-2 bottom-2")});case"bottom":return P.jsx(vt,{className:de(n,"-top-2 w-full left-0")});case"bottom-start":return P.jsx(vt,{className:de(n,"-top-2 left-0 ml-3")});case"bottom-end":return P.jsx(vt,{className:de(n,"-top-2 right-0 mr-3")});case"left":return P.jsx(pt,{className:de(n,"-right-2 top-1/2 transform -translate-y-1/2")});case"left-start":return P.jsx(pt,{className:de(n,"-right-2 top-2")});case"left-end":return P.jsx(pt,{className:de(n,"-right-2 bottom-2")})}};return P.jsx("div",{children:r()})};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var tr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],et=tr.join(","),pn=typeof Element>"u",Fe=pn?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tt=!pn&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},nt=function e(t,n){var r;n===void 0&&(n=!0);var s=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=s===""||s==="true",o=i||n&&t&&e(t.parentNode);return o},nr=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},vn=function(t,n,r){if(nt(t))return[];var s=Array.prototype.slice.apply(t.querySelectorAll(et));return n&&Fe.call(t,et)&&s.unshift(t),s=s.filter(r),s},bn=function e(t,n,r){for(var s=[],i=Array.from(t);i.length;){var o=i.shift();if(!nt(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),g=c.length?c:o.children,a=e(g,!0,r);r.flatten?s.push.apply(s,a):s.push({scopeParent:o,candidates:a})}else{var l=Fe.call(o,et);l&&r.filter(o)&&(n||!t.includes(o))&&s.push(o);var p=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),m=!nt(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(p&&m){var d=e(p===!0?o.children:p.children,!0,r);r.flatten?s.push.apply(s,d):s.push({scopeParent:o,candidates:d})}else i.unshift.apply(i,o.children)}}return s},hn=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Rn=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||nr(t))&&!hn(t)?0:t.tabIndex},rr=function(t,n){var r=Rn(t);return r<0&&n&&!hn(t)?0:r},or=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},yn=function(t){return t.tagName==="INPUT"},sr=function(t){return yn(t)&&t.type==="hidden"},ir=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},ur=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},cr=function(t){if(!t.name)return!0;var n=t.form||tt(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(t.name));else try{s=r(t.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=ur(s,t.form);return!i||i===t},ar=function(t){return yn(t)&&t.type==="radio"},lr=function(t){return ar(t)&&!cr(t)},fr=function(t){var n,r=t&&tt(t),s=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var o,c,g;for(i=!!((o=s)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(s)||t!=null&&(g=t.ownerDocument)!==null&&g!==void 0&&g.contains(t));!i&&s;){var a,l,p;r=tt(s),s=(a=r)===null||a===void 0?void 0:a.host,i=!!((l=s)!==null&&l!==void 0&&(p=l.ownerDocument)!==null&&p!==void 0&&p.contains(s))}}return i},_t=function(t){var n=t.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},dr=function(t,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Fe.call(t,"details>summary:first-of-type"),o=i?t.parentElement:t;if(Fe.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var c=t;t;){var g=t.parentElement,a=tt(t);if(g&&!g.shadowRoot&&s(g)===!0)return _t(t);t.assignedSlot?t=t.assignedSlot:!g&&a!==t.ownerDocument?t=a.host:t=g}t=c}if(fr(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return _t(t);return!1},mr=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Fe.call(n,"fieldset[disabled] *")?!0:!s.contains(t)}return!0}n=n.parentElement}return!1},Mt=function(t,n){return!(n.disabled||nt(n)||sr(n)||dr(n,t)||ir(n)||mr(n))},At=function(t,n){return!(lr(n)||Rn(n)<0||!Mt(t,n))},gr=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},pr=function e(t){var n=[],r=[];return t.forEach(function(s,i){var o=!!s.scopeParent,c=o?s.scopeParent:s,g=rr(c,o),a=o?e(s.candidates):c;g===0?o?n.push.apply(n,a):n.push(c):r.push({documentOrder:i,tabIndex:g,item:s,isScope:o,content:a})}),r.sort(or).reduce(function(s,i){return i.isScope?s.push.apply(s,i.content):s.push(i.content),s},[]).concat(n)},it=function(t,n){n=n||{};var r;return n.getShadowRoot?r=bn([t],n.includeContainer,{filter:At.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:gr}):r=vn(t,n.includeContainer,At.bind(null,n)),pr(r)},vr=function(t,n){n=n||{};var r;return n.getShadowRoot?r=bn([t],n.includeContainer,{filter:Mt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=vn(t,n.includeContainer,Mt.bind(null,n)),r},xn=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Fe.call(t,et)===!1?!1:At(n,t)};function En(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function wn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function In(){return/apple/i.test(navigator.vendor)}function kt(){const e=/android/i;return e.test(En())||e.test(wn())}function br(){return En().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Cn(){return wn().includes("jsdom/")}const Kt="data-floating-ui-focusable",hr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",bt="ArrowLeft",ht="ArrowRight",Rr="ArrowUp",yr="ArrowDown";function Ie(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ge(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&dn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Ce(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Rt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function xr(e){return e.matches("html,body")}function ve(e){return(e==null?void 0:e.ownerDocument)||document}function Nt(e){return we(e)&&e.matches(hr)}function Pt(e){return e?e.getAttribute("role")==="combobox"&&Nt(e):!1}function Er(e){if(!e||Cn())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function rt(e){return e?e.hasAttribute(Kt)?e:e.querySelector("["+Kt+"]")||e:null}function ke(e,t,n){return n===void 0&&(n=!0),e.filter(s=>{var i;return s.parentId===t&&(!n||((i=s.context)==null?void 0:i.open))}).flatMap(s=>[s,...ke(e,s.id,n)])}function wr(e,t){let n,r=-1;function s(i,o){o>r&&(n=i,r=o),ke(e,i).forEach(g=>{s(g.id,o+1)})}return s(t,0),e.find(i=>i.id===n)}function $t(e,t){var n;let r=[],s=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;s;){const i=e.find(o=>o.id===s);s=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function pe(e){e.preventDefault(),e.stopPropagation()}function Ir(e){return"nativeEvent"in e}function Tn(e){return e.mozInputSource===0&&e.isTrusted?!0:kt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Sn(e){return Cn()?!1:!kt()&&e.width===0&&e.height===0||kt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function We(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var Cr=typeof document<"u",Tr=function(){},q=Cr?u.useLayoutEffect:Tr;const Sr={...ln};function le(e){const t=u.useRef(e);return q(()=>{t.current=e}),t}const Mr=Sr.useInsertionEffect,Ar=Mr||(e=>e());function se(e){const t=u.useRef(()=>{});return Ar(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function Ye(e,t,n){return Math.floor(e/t)!==n}function Ke(e,t){return t<0||t>=e.current.length}function yt(e,t){return be(e,{disabledIndices:t})}function Wt(e,t){return be(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function be(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:s,amount:i=1}=t===void 0?{}:t,o=n;do o+=r?-i:i;while(o>=0&&o<=e.current.length-1&&Qe(e,o,s));return o}function kr(e,t){let{event:n,orientation:r,loop:s,rtl:i,cols:o,disabledIndices:c,minIndex:g,maxIndex:a,prevIndex:l,stopEvent:p=!1}=t,m=l;if(n.key===Rr){if(p&&pe(n),l===-1)m=a;else if(m=be(e,{startingIndex:m,amount:o,decrement:!0,disabledIndices:c}),s&&(l-o<g||m<0)){const d=l%o,v=a%o,f=a-(v-d);v===d?m=a:m=v>d?f:f-o}Ke(e,m)&&(m=l)}if(n.key===yr&&(p&&pe(n),l===-1?m=g:(m=be(e,{startingIndex:l,amount:o,disabledIndices:c}),s&&l+o>a&&(m=be(e,{startingIndex:l%o-o,amount:o,disabledIndices:c}))),Ke(e,m)&&(m=l)),r==="both"){const d=jt(l/o);n.key===(i?bt:ht)&&(p&&pe(n),l%o!==o-1?(m=be(e,{startingIndex:l,disabledIndices:c}),s&&Ye(m,o,d)&&(m=be(e,{startingIndex:l-l%o-1,disabledIndices:c}))):s&&(m=be(e,{startingIndex:l-l%o-1,disabledIndices:c})),Ye(m,o,d)&&(m=l)),n.key===(i?ht:bt)&&(p&&pe(n),l%o!==0?(m=be(e,{startingIndex:l,decrement:!0,disabledIndices:c}),s&&Ye(m,o,d)&&(m=be(e,{startingIndex:l+(o-l%o),decrement:!0,disabledIndices:c}))):s&&(m=be(e,{startingIndex:l+(o-l%o),decrement:!0,disabledIndices:c})),Ye(m,o,d)&&(m=l));const v=jt(a/o)===d;Ke(e,m)&&(s&&v?m=n.key===(i?ht:bt)?a:be(e,{startingIndex:l-l%o-1,disabledIndices:c}):m=l)}return m}function Pr(e,t,n){const r=[];let s=0;return e.forEach((i,o)=>{let{width:c,height:g}=i,a=!1;for(n&&(s=0);!a;){const l=[];for(let p=0;p<c;p++)for(let m=0;m<g;m++)l.push(s+p+m*t);s%t+c<=t&&l.every(p=>r[p]==null)?(l.forEach(p=>{r[p]=o}),a=!0):s++}}),[...r]}function Nr(e,t,n,r,s){if(e===-1)return-1;const i=n.indexOf(e),o=t[e];switch(s){case"tl":return i;case"tr":return o?i+o.width-1:i;case"bl":return o?i+(o.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function Or(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function Qe(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}const Be=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Mn(e,t){const n=it(e,Be()),r=n.length;if(r===0)return;const s=Ie(ve(e)),i=n.indexOf(s),o=i===-1?t===1?0:r-1:i+t;return n[o]}function An(e){return Mn(ve(e).body,1)||e}function kn(e){return Mn(ve(e).body,-1)||e}function $e(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ge(n,r)}function Fr(e){it(e,Be()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Bt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function yo(e){const t=u.useRef(void 0),n=u.useCallback(r=>{const s=e.map(i=>{if(i!=null){if(typeof i=="function"){const o=i,c=o(r);return typeof c=="function"?c:()=>{o(null)}}return i.current=r,()=>{i.current=null}}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return u.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function Lr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Pn=u.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function xo(e){const{children:t,elementsRef:n,labelsRef:r}=e,[s,i]=u.useState(()=>new Set),o=u.useCallback(a=>{i(l=>new Set(l).add(a))},[]),c=u.useCallback(a=>{i(l=>{const p=new Set(l);return p.delete(a),p})},[]),g=u.useMemo(()=>{const a=new Map;return Array.from(s.keys()).sort(Lr).forEach((p,m)=>{a.set(p,m)}),a},[s]);return P.jsx(Pn.Provider,{value:u.useMemo(()=>({register:o,unregister:c,map:g,elementsRef:n,labelsRef:r}),[o,c,g,n,r]),children:t})}function Eo(e){e===void 0&&(e={});const{label:t}=e,{register:n,unregister:r,map:s,elementsRef:i,labelsRef:o}=u.useContext(Pn),[c,g]=u.useState(null),a=u.useRef(null),l=u.useCallback(p=>{if(a.current=p,c!==null&&(i.current[c]=p,o)){var m;const d=t!==void 0;o.current[c]=d?t:(m=p==null?void 0:p.textContent)!=null?m:null}},[c,i,o,t]);return q(()=>{const p=a.current;if(p)return n(p),()=>{r(p)}},[n,r]),q(()=>{const p=a.current?s.get(a.current):null;p!=null&&g(p)},[s]),u.useMemo(()=>({ref:l,index:c??-1}),[c,l])}const Dr="data-floating-ui-focusable",Vt="active",Gt="selected",Ve="ArrowLeft",Ge="ArrowRight",Nn="ArrowUp",ut="ArrowDown",jr={...ln};let Ut=!1,_r=0;const qt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+_r++;function Kr(){const[e,t]=u.useState(()=>Ut?qt():void 0);return q(()=>{e==null&&t(qt())},[]),u.useEffect(()=>{Ut=!0},[]),e}const $r=jr.useId,ct=$r||Kr;function On(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const Fn=u.createContext(null),Ln=u.createContext(null),Le=()=>{var e;return((e=u.useContext(Fn))==null?void 0:e.id)||null},De=()=>u.useContext(Ln);function wo(e){const t=ct(),n=De(),s=Le();return q(()=>{if(!t)return;const i={id:t,parentId:s};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,s]),t}function Io(e){const{children:t,id:n}=e,r=Le();return P.jsx(Fn.Provider,{value:u.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function Co(e){const{children:t}=e,n=u.useRef([]),r=u.useCallback(o=>{n.current=[...n.current,o]},[]),s=u.useCallback(o=>{n.current=n.current.filter(c=>c!==o)},[]),[i]=u.useState(()=>On());return P.jsx(Ln.Provider,{value:u.useMemo(()=>({nodesRef:n,addNode:r,removeNode:s,events:i}),[r,s,i]),children:t})}function Pe(e){return"data-floating-ui-"+e}function me(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Ht=Pe("safe-polygon");function xt(e,t,n){if(n&&!We(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r==null?void 0:r[t]}return e==null?void 0:e[t]}function Et(e){return typeof e=="function"?e():e}function Wr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:s,events:i,elements:o}=e,{enabled:c=!0,delay:g=0,handleClose:a=null,mouseOnly:l=!1,restMs:p=0,move:m=!0}=t,d=De(),v=Le(),f=le(a),I=le(g),S=le(n),y=le(p),x=u.useRef(),C=u.useRef(-1),W=u.useRef(),K=u.useRef(-1),B=u.useRef(!0),Z=u.useRef(!1),V=u.useRef(()=>{}),N=u.useRef(!1),H=se(()=>{var T;const R=(T=s.current.openEvent)==null?void 0:T.type;return(R==null?void 0:R.includes("mouse"))&&R!=="mousedown"});u.useEffect(()=>{if(!c)return;function T(R){let{open:E}=R;E||(me(C),me(K),B.current=!0,N.current=!1)}return i.on("openchange",T),()=>{i.off("openchange",T)}},[c,i]),u.useEffect(()=>{if(!c||!f.current||!n)return;function T(E){H()&&r(!1,E,"hover")}const R=ve(o.floating).documentElement;return R.addEventListener("mouseleave",T),()=>{R.removeEventListener("mouseleave",T)}},[o.floating,n,r,c,f,H]);const z=u.useCallback(function(T,R,E){R===void 0&&(R=!0),E===void 0&&(E="hover");const M=xt(I.current,"close",x.current);M&&!W.current?(me(C),C.current=window.setTimeout(()=>r(!1,T,E),M)):R&&(me(C),r(!1,T,E))},[I,r]),F=se(()=>{V.current(),W.current=void 0}),b=se(()=>{if(Z.current){const T=ve(o.floating).body;T.style.pointerEvents="",T.removeAttribute(Ht),Z.current=!1}}),h=se(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);u.useEffect(()=>{if(!c)return;function T(w){if(me(C),B.current=!1,l&&!We(x.current)||Et(y.current)>0&&!xt(I.current,"open"))return;const $=xt(I.current,"open",x.current);$?C.current=window.setTimeout(()=>{S.current||r(!0,w,"hover")},$):n||r(!0,w,"hover")}function R(w){if(h()){b();return}V.current();const $=ve(o.floating);if(me(K),N.current=!1,f.current&&s.current.floatingContext){n||me(C),W.current=f.current({...s.current.floatingContext,tree:d,x:w.clientX,y:w.clientY,onClose(){b(),F(),h()||z(w,!0,"safe-polygon")}});const ae=W.current;$.addEventListener("mousemove",ae),V.current=()=>{$.removeEventListener("mousemove",ae)};return}(x.current==="touch"?!ge(o.floating,w.relatedTarget):!0)&&z(w)}function E(w){h()||s.current.floatingContext&&(f.current==null||f.current({...s.current.floatingContext,tree:d,x:w.clientX,y:w.clientY,onClose(){b(),F(),h()||z(w)}})(w))}function M(){me(C)}function G(w){h()||z(w,!1)}if(he(o.domReference)){const w=o.domReference,$=o.floating;return n&&w.addEventListener("mouseleave",E),m&&w.addEventListener("mousemove",T,{once:!0}),w.addEventListener("mouseenter",T),w.addEventListener("mouseleave",R),$&&($.addEventListener("mouseleave",E),$.addEventListener("mouseenter",M),$.addEventListener("mouseleave",G)),()=>{n&&w.removeEventListener("mouseleave",E),m&&w.removeEventListener("mousemove",T),w.removeEventListener("mouseenter",T),w.removeEventListener("mouseleave",R),$&&($.removeEventListener("mouseleave",E),$.removeEventListener("mouseenter",M),$.removeEventListener("mouseleave",G))}}},[o,c,e,l,m,z,F,b,r,n,S,d,I,f,s,h,y]),q(()=>{var T;if(c&&n&&(T=f.current)!=null&&(T=T.__options)!=null&&T.blockPointerEvents&&H()){Z.current=!0;const E=o.floating;if(he(o.domReference)&&E){var R;const M=ve(o.floating).body;M.setAttribute(Ht,"");const G=o.domReference,w=d==null||(R=d.nodesRef.current.find($=>$.id===v))==null||(R=R.context)==null?void 0:R.elements.floating;return w&&(w.style.pointerEvents=""),M.style.pointerEvents="none",G.style.pointerEvents="auto",E.style.pointerEvents="auto",()=>{M.style.pointerEvents="",G.style.pointerEvents="",E.style.pointerEvents=""}}}},[c,n,v,o,d,f,H]),q(()=>{n||(x.current=void 0,N.current=!1,F(),b())},[n,F,b]),u.useEffect(()=>()=>{F(),me(C),me(K),b()},[c,o.domReference,F,b]);const D=u.useMemo(()=>{function T(R){x.current=R.pointerType}return{onPointerDown:T,onPointerEnter:T,onMouseMove(R){const{nativeEvent:E}=R;function M(){!B.current&&!S.current&&r(!0,E,"hover")}l&&!We(x.current)||n||Et(y.current)===0||N.current&&R.movementX**2+R.movementY**2<2||(me(K),x.current==="touch"?M():(N.current=!0,K.current=window.setTimeout(M,Et(y.current))))}}},[l,r,n,S,y]);return u.useMemo(()=>c?{reference:D}:{},[c,D])}let zt=0;function Me(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:s=!1}=t;r&&cancelAnimationFrame(zt);const i=()=>e==null?void 0:e.focus({preventScroll:n});s?i():zt=requestAnimationFrame(i)}function wt(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&dn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Br(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Vr(e){return(e==null?void 0:e.ownerDocument)||document}const Oe={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Yt(e){return e==="inert"?Oe.inert:e==="aria-hidden"?Oe["aria-hidden"]:Oe.none}let Xe=new WeakSet,Ze={},It=0;const Gr=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Dn=e=>e&&(e.host||Dn(e.parentNode)),Ur=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Dn(n);return e.contains(r)?r:null}).filter(n=>n!=null);function qr(e,t,n,r){const s="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,o=Ur(t,e),c=new Set,g=new Set(o),a=[];Ze[s]||(Ze[s]=new WeakMap);const l=Ze[s];o.forEach(p),m(t),c.clear();function p(d){!d||c.has(d)||(c.add(d),d.parentNode&&p(d.parentNode))}function m(d){!d||g.has(d)||[].forEach.call(d.children,v=>{if(mn(v)!=="script")if(c.has(v))m(v);else{const f=i?v.getAttribute(i):null,I=f!==null&&f!=="false",S=Yt(i),y=(S.get(v)||0)+1,x=(l.get(v)||0)+1;S.set(v,y),l.set(v,x),a.push(v),y===1&&I&&Xe.add(v),x===1&&v.setAttribute(s,""),!I&&i&&v.setAttribute(i,i==="inert"?"":"true")}})}return It++,()=>{a.forEach(d=>{const v=Yt(i),I=(v.get(d)||0)-1,S=(l.get(d)||0)-1;v.set(d,I),l.set(d,S),I||(!Xe.has(d)&&i&&d.removeAttribute(i),Xe.delete(d)),S||d.removeAttribute(s)}),It--,It||(Oe.inert=new WeakMap,Oe["aria-hidden"]=new WeakMap,Oe.none=new WeakMap,Xe=new WeakSet,Ze={})}}function Xt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=Vr(e[0]).body;return qr(e.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,t,n)}const at={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},ot=u.forwardRef(function(t,n){const[r,s]=u.useState();q(()=>{In()&&s("button")},[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Pe("focus-guard")]:"",style:at};return P.jsx("span",{...t,...i})}),jn=u.createContext(null),Zt=Pe("portal");function Hr(e){e===void 0&&(e={});const{id:t,root:n}=e,r=ct(),s=_n(),[i,o]=u.useState(null),c=u.useRef(null);return q(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{c.current=null})},[i]),q(()=>{if(!r||c.current)return;const g=t?document.getElementById(t):null;if(!g)return;const a=document.createElement("div");a.id=r,a.setAttribute(Zt,""),g.appendChild(a),c.current=a,o(a)},[t,r]),q(()=>{if(n===null||!r||c.current)return;let g=n||(s==null?void 0:s.portalNode);g&&!he(g)&&(g=g.current),g=g||document.body;let a=null;t&&(a=document.createElement("div"),a.id=t,g.appendChild(a));const l=document.createElement("div");l.id=r,l.setAttribute(Zt,""),g=a||g,g.appendChild(l),c.current=l,o(l)},[t,n,r,s]),i}function zr(e){const{children:t,id:n,root:r,preserveTabOrder:s=!0}=e,i=Hr({id:n,root:r}),[o,c]=u.useState(null),g=u.useRef(null),a=u.useRef(null),l=u.useRef(null),p=u.useRef(null),m=o==null?void 0:o.modal,d=o==null?void 0:o.open,v=!!o&&!o.modal&&o.open&&s&&!!(r||i);return u.useEffect(()=>{if(!i||!s||m)return;function f(I){i&&$e(I)&&(I.type==="focusin"?Bt:Fr)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,s,m]),u.useEffect(()=>{i&&(d||Bt(i))},[d,i]),P.jsxs(jn.Provider,{value:u.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:g,afterOutsideRef:a,beforeInsideRef:l,afterInsideRef:p,portalNode:i,setFocusManagerState:c}),[s,i]),children:[v&&i&&P.jsx(ot,{"data-type":"outside",ref:g,onFocus:f=>{if($e(f,i)){var I;(I=l.current)==null||I.focus()}else{const S=o?o.domReference:null,y=kn(S);y==null||y.focus()}}}),v&&i&&P.jsx("span",{"aria-owns":i.id,style:at}),i&&fn.createPortal(t,i),v&&i&&P.jsx(ot,{"data-type":"outside",ref:a,onFocus:f=>{if($e(f,i)){var I;(I=p.current)==null||I.focus()}else{const S=o?o.domReference:null,y=An(S);y==null||y.focus(),o!=null&&o.closeOnFocusOut&&(o==null||o.onOpenChange(!1,f.nativeEvent,"focus-out"))}}})]})}const _n=()=>u.useContext(jn);function Jt(e){return u.useMemo(()=>t=>{e.forEach(n=>{n&&(n.current=t)})},e)}const Yr=20;let Ae=[];function Xr(e){Ae=Ae.filter(t=>t.isConnected),e&&mn(e)!=="body"&&(Ae.push(e),Ae.length>Yr&&(Ae=Ae.slice(-20)))}function Qt(){return Ae.slice().reverse().find(e=>e.isConnected)}function Zr(e){const t=Be();return xn(e,t)?e:it(e,t)[0]||e}function en(e,t){var n;if(!t.current.includes("floating")&&!((n=e.getAttribute("role"))!=null&&n.includes("dialog")))return;const r=Be(),i=vr(e,r).filter(c=>{const g=c.getAttribute("data-tabindex")||"";return xn(c,r)||c.hasAttribute("data-tabindex")&&!g.startsWith("-")}),o=e.getAttribute("tabindex");t.current.includes("floating")||i.length===0?o!=="0"&&e.setAttribute("tabindex","0"):(o!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const Jr=u.forwardRef(function(t,n){return P.jsx("button",{...t,type:"button",ref:n,tabIndex:-1,style:at})});function To(e){const{context:t,children:n,disabled:r=!1,order:s=["content"],guards:i=!0,initialFocus:o=0,returnFocus:c=!0,restoreFocus:g=!1,modal:a=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:p=!0,outsideElementsInert:m=!1,getInsideElements:d=()=>[]}=e,{open:v,onOpenChange:f,events:I,dataRef:S,elements:{domReference:y,floating:x}}=t,C=se(()=>{var O;return(O=S.current.floatingContext)==null?void 0:O.nodeId}),W=se(d),K=typeof o=="number"&&o<0,B=Pt(y)&&K,Z=Gr(),V=Z?i:!0,N=!V||Z&&m,H=le(s),z=le(o),F=le(c),b=De(),h=_n(),D=u.useRef(null),T=u.useRef(null),R=u.useRef(!1),E=u.useRef(!1),M=u.useRef(-1),G=h!=null,w=rt(x),$=se(function(O){return O===void 0&&(O=w),O?it(O,Be()):[]}),re=se(O=>{const L=$(O);return H.current.map(j=>y&&j==="reference"?y:w&&j==="floating"?w:L).filter(Boolean).flat()});u.useEffect(()=>{if(r||!a)return;function O(j){if(j.key==="Tab"){ge(w,Ie(ve(w)))&&$().length===0&&!B&&pe(j);const _=re(),ue=Ce(j);H.current[0]==="reference"&&ue===y&&(pe(j),j.shiftKey?Me(_[_.length-1]):Me(_[1])),H.current[1]==="floating"&&ue===w&&j.shiftKey&&(pe(j),Me(_[0]))}}const L=ve(w);return L.addEventListener("keydown",O),()=>{L.removeEventListener("keydown",O)}},[r,y,w,a,H,B,$,re]),u.useEffect(()=>{if(r||!x)return;function O(L){const j=Ce(L),ue=$().indexOf(j);ue!==-1&&(M.current=ue)}return x.addEventListener("focusin",O),()=>{x.removeEventListener("focusin",O)}},[r,x,$]),u.useEffect(()=>{if(r||!p)return;function O(){E.current=!0,setTimeout(()=>{E.current=!1})}function L(j){const _=j.relatedTarget,ue=j.currentTarget,oe=Ce(j);queueMicrotask(()=>{const Re=C(),ye=!(ge(y,_)||ge(x,_)||ge(_,x)||ge(h==null?void 0:h.portalNode,_)||_!=null&&_.hasAttribute(Pe("focus-guard"))||b&&(ke(b.nodesRef.current,Re).find(X=>{var ee,Ee;return ge((ee=X.context)==null?void 0:ee.elements.floating,_)||ge((Ee=X.context)==null?void 0:Ee.elements.domReference,_)})||$t(b.nodesRef.current,Re).find(X=>{var ee,Ee,A;return[(ee=X.context)==null?void 0:ee.elements.floating,rt((Ee=X.context)==null?void 0:Ee.elements.floating)].includes(_)||((A=X.context)==null?void 0:A.elements.domReference)===_})));if(ue===y&&w&&en(w,H),g&&ue!==y&&!(oe!=null&&oe.isConnected)&&Ie(ve(w))===ve(w).body){we(w)&&w.focus();const X=M.current,ee=$(),Ee=ee[X]||ee[ee.length-1]||w;we(Ee)&&Ee.focus()}if(S.current.insideReactTree){S.current.insideReactTree=!1;return}(B||!a)&&_&&ye&&!E.current&&_!==Qt()&&(R.current=!0,f(!1,j,"focus-out"))})}if(x&&we(y))return y.addEventListener("focusout",L),y.addEventListener("pointerdown",O),x.addEventListener("focusout",L),()=>{y.removeEventListener("focusout",L),y.removeEventListener("pointerdown",O),x.removeEventListener("focusout",L)}},[r,y,x,w,a,b,h,f,p,g,$,B,C,H,S]);const ae=u.useRef(null),J=u.useRef(null),ie=Jt([ae,h==null?void 0:h.beforeInsideRef]),Y=Jt([J,h==null?void 0:h.afterInsideRef]);u.useEffect(()=>{var O,L;if(r||!x)return;const j=Array.from((h==null||(O=h.portalNode)==null?void 0:O.querySelectorAll("["+Pe("portal")+"]"))||[]),_=b?$t(b.nodesRef.current,C()):[],ue=b&&!a?_.map(X=>{var ee;return(ee=X.context)==null?void 0:ee.elements.floating}):[],oe=(L=_.find(X=>{var ee;return Pt(((ee=X.context)==null?void 0:ee.elements.domReference)||null)}))==null||(L=L.context)==null?void 0:L.elements.domReference,Re=[x,oe,...j,...ue,...W(),D.current,T.current,ae.current,J.current,h==null?void 0:h.beforeOutsideRef.current,h==null?void 0:h.afterOutsideRef.current,H.current.includes("reference")||B?y:null].filter(X=>X!=null),ye=a||B?Xt(Re,!N,N):Xt(Re);return()=>{ye()}},[r,y,x,a,H,h,B,V,N,b,C,W]),q(()=>{if(r||!we(w))return;const O=ve(w),L=Ie(O);queueMicrotask(()=>{const j=re(w),_=z.current,ue=(typeof _=="number"?j[_]:_.current)||w,oe=ge(w,L);!K&&!oe&&v&&Me(ue,{preventScroll:ue===w})})},[r,v,w,K,re,z]),q(()=>{if(r||!w)return;const O=ve(w),L=Ie(O);Xr(L);function j(oe){let{reason:Re,event:ye,nested:X}=oe;if(["hover","safe-polygon"].includes(Re)&&ye.type==="mouseleave"&&(R.current=!0),Re==="outside-press")if(X)R.current=!1;else if(Tn(ye)||Sn(ye))R.current=!1;else{let ee=!1;document.createElement("div").focus({get preventScroll(){return ee=!0,!1}}),ee?R.current=!1:R.current=!0}}I.on("openchange",j);const _=O.createElement("span");_.setAttribute("tabindex","-1"),_.setAttribute("aria-hidden","true"),Object.assign(_.style,at),G&&y&&y.insertAdjacentElement("afterend",_);function ue(){if(typeof F.current=="boolean"){const oe=y||Qt();return oe&&oe.isConnected?oe:_}return F.current.current||_}return()=>{I.off("openchange",j);const oe=Ie(O),Re=ge(x,oe)||b&&ke(b.nodesRef.current,C(),!1).some(X=>{var ee;return ge((ee=X.context)==null?void 0:ee.elements.floating,oe)}),ye=ue();queueMicrotask(()=>{const X=Zr(ye);F.current&&!R.current&&we(X)&&(!(X!==oe&&oe!==O.body)||Re)&&X.focus({preventScroll:!0}),_.remove()})}},[r,x,w,F,S,I,b,G,y,C]),u.useEffect(()=>{queueMicrotask(()=>{R.current=!1})},[r]),q(()=>{if(!r&&h)return h.setFocusManagerState({modal:a,closeOnFocusOut:p,open:v,onOpenChange:f,domReference:y}),()=>{h.setFocusManagerState(null)}},[r,h,a,v,f,p,y]),q(()=>{r||w&&en(w,H)},[r,w,H]);function Q(O){return r||!l||!a?null:P.jsx(Jr,{ref:O==="start"?D:T,onClick:L=>f(!1,L.nativeEvent),children:typeof l=="string"?l:"Dismiss"})}const fe=!r&&V&&(a?!B:!0)&&(G||a);return P.jsxs(P.Fragment,{children:[fe&&P.jsx(ot,{"data-type":"inside",ref:ie,onFocus:O=>{if(a){const j=re();Me(s[0]==="reference"?j[0]:j[j.length-1])}else if(h!=null&&h.preserveTabOrder&&h.portalNode)if(R.current=!1,$e(O,h.portalNode)){const j=An(y);j==null||j.focus()}else{var L;(L=h.beforeOutsideRef.current)==null||L.focus()}}}),!B&&Q("start"),n,Q("end"),fe&&P.jsx(ot,{"data-type":"inside",ref:Y,onFocus:O=>{if(a)Me(re()[0]);else if(h!=null&&h.preserveTabOrder&&h.portalNode)if(p&&(R.current=!0),$e(O,h.portalNode)){const j=kn(y);j==null||j.focus()}else{var L;(L=h.afterOutsideRef.current)==null||L.focus()}}})]})}function tn(e){return we(e.target)&&e.target.tagName==="BUTTON"}function Qr(e){return we(e.target)&&e.target.tagName==="A"}function nn(e){return Nt(e)}function So(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:s,elements:{domReference:i}}=e,{enabled:o=!0,event:c="click",toggle:g=!0,ignoreMouse:a=!1,keyboardHandlers:l=!0,stickIfOpen:p=!0}=t,m=u.useRef(),d=u.useRef(!1),v=u.useMemo(()=>({onPointerDown(f){m.current=f.pointerType},onMouseDown(f){const I=m.current;f.button===0&&c!=="click"&&(We(I,!0)&&a||(n&&g&&(!(s.current.openEvent&&p)||s.current.openEvent.type==="mousedown")?r(!1,f.nativeEvent,"click"):(f.preventDefault(),r(!0,f.nativeEvent,"click"))))},onClick(f){const I=m.current;if(c==="mousedown"&&m.current){m.current=void 0;return}We(I,!0)&&a||(n&&g&&(!(s.current.openEvent&&p)||s.current.openEvent.type==="click")?r(!1,f.nativeEvent,"click"):r(!0,f.nativeEvent,"click"))},onKeyDown(f){m.current=void 0,!(f.defaultPrevented||!l||tn(f))&&(f.key===" "&&!nn(i)&&(f.preventDefault(),d.current=!0),!Qr(f)&&f.key==="Enter"&&r(!(n&&g),f.nativeEvent,"click"))},onKeyUp(f){f.defaultPrevented||!l||tn(f)||nn(i)||f.key===" "&&d.current&&(d.current=!1,r(!(n&&g),f.nativeEvent,"click"))}}),[s,i,c,a,l,r,n,p,g]);return u.useMemo(()=>o?{reference:v}:{},[o,v])}const eo={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},to={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},rn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function no(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:s,dataRef:i}=e,{enabled:o=!0,escapeKey:c=!0,outsidePress:g=!0,outsidePressEvent:a="pointerdown",referencePress:l=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:d,capture:v}=t,f=De(),I=se(typeof g=="function"?g:()=>!1),S=typeof g=="function"?I:g,y=u.useRef(!1),{escapeKey:x,outsidePress:C}=rn(d),{escapeKey:W,outsidePress:K}=rn(v),B=u.useRef(!1),Z=u.useRef(-1),V=se(h=>{var D;if(!n||!o||!c||h.key!=="Escape"||B.current)return;const T=(D=i.current.floatingContext)==null?void 0:D.nodeId,R=f?ke(f.nodesRef.current,T):[];if(!x&&(h.stopPropagation(),R.length>0)){let E=!0;if(R.forEach(M=>{var G;if((G=M.context)!=null&&G.open&&!M.context.dataRef.current.__escapeKeyBubbles){E=!1;return}}),!E)return}r(!1,Ir(h)?h.nativeEvent:h,"escape-key")}),N=se(h=>{var D;const T=()=>{var R;V(h),(R=Ce(h))==null||R.removeEventListener("keydown",T)};(D=Ce(h))==null||D.addEventListener("keydown",T)}),H=se(h=>{var D;const T=i.current.insideReactTree;i.current.insideReactTree=!1;const R=y.current;if(y.current=!1,a==="click"&&R||T||typeof S=="function"&&!S(h))return;const E=Ce(h),M="["+Pe("inert")+"]",G=ve(s.floating).querySelectorAll(M);let w=he(E)?E:null;for(;w&&!dt(w);){const J=Un(w);if(dt(J)||!he(J))break;w=J}if(G.length&&he(E)&&!xr(E)&&!ge(E,s.floating)&&Array.from(G).every(J=>!ge(w,J)))return;if(we(E)&&b){const J=dt(E),ie=qn(E),Y=/auto|scroll/,Q=J||Y.test(ie.overflowX),fe=J||Y.test(ie.overflowY),O=Q&&E.clientWidth>0&&E.scrollWidth>E.clientWidth,L=fe&&E.clientHeight>0&&E.scrollHeight>E.clientHeight,j=ie.direction==="rtl",_=L&&(j?h.offsetX<=E.offsetWidth-E.clientWidth:h.offsetX>E.clientWidth),ue=O&&h.offsetY>E.clientHeight;if(_||ue)return}const $=(D=i.current.floatingContext)==null?void 0:D.nodeId,re=f&&ke(f.nodesRef.current,$).some(J=>{var ie;return Rt(h,(ie=J.context)==null?void 0:ie.elements.floating)});if(Rt(h,s.floating)||Rt(h,s.domReference)||re)return;const ae=f?ke(f.nodesRef.current,$):[];if(ae.length>0){let J=!0;if(ae.forEach(ie=>{var Y;if((Y=ie.context)!=null&&Y.open&&!ie.context.dataRef.current.__outsidePressBubbles){J=!1;return}}),!J)return}r(!1,h,"outside-press")}),z=se(h=>{var D;const T=()=>{var R;H(h),(R=Ce(h))==null||R.removeEventListener(a,T)};(D=Ce(h))==null||D.addEventListener(a,T)});u.useEffect(()=>{if(!n||!o)return;i.current.__escapeKeyBubbles=x,i.current.__outsidePressBubbles=C;let h=-1;function D(G){r(!1,G,"ancestor-scroll")}function T(){window.clearTimeout(h),B.current=!0}function R(){h=window.setTimeout(()=>{B.current=!1},Gn()?5:0)}const E=ve(s.floating);c&&(E.addEventListener("keydown",W?N:V,W),E.addEventListener("compositionstart",T),E.addEventListener("compositionend",R)),S&&E.addEventListener(a,K?z:H,K);let M=[];return m&&(he(s.domReference)&&(M=ft(s.domReference)),he(s.floating)&&(M=M.concat(ft(s.floating))),!he(s.reference)&&s.reference&&s.reference.contextElement&&(M=M.concat(ft(s.reference.contextElement)))),M=M.filter(G=>{var w;return G!==((w=E.defaultView)==null?void 0:w.visualViewport)}),M.forEach(G=>{G.addEventListener("scroll",D,{passive:!0})}),()=>{c&&(E.removeEventListener("keydown",W?N:V,W),E.removeEventListener("compositionstart",T),E.removeEventListener("compositionend",R)),S&&E.removeEventListener(a,K?z:H,K),M.forEach(G=>{G.removeEventListener("scroll",D)}),window.clearTimeout(h)}},[i,s,c,S,a,n,r,m,o,x,C,V,W,N,H,K,z]),u.useEffect(()=>{i.current.insideReactTree=!1},[i,S,a]);const F=u.useMemo(()=>({onKeyDown:V,...l&&{[eo[p]]:h=>{r(!1,h.nativeEvent,"reference-press")},...p!=="click"&&{onClick(h){r(!1,h.nativeEvent,"reference-press")}}}}),[V,r,l,p]),b=u.useMemo(()=>({onKeyDown:V,onMouseDown(){y.current=!0},onMouseUp(){y.current=!0},[to[a]]:()=>{i.current.insideReactTree=!0},onBlurCapture(){f||(me(Z),i.current.insideReactTree=!0,Z.current=window.setTimeout(()=>{i.current.insideReactTree=!1}))}}),[V,a,i,f]);return u.useMemo(()=>o?{reference:F,floating:b}:{},[o,F,b])}function ro(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=ct(),i=u.useRef({}),[o]=u.useState(()=>On()),c=Le()!=null,[g,a]=u.useState(r.reference),l=se((d,v,f)=>{i.current.openEvent=d?v:void 0,o.emit("openchange",{open:d,event:v,reason:f,nested:c}),n==null||n(d,v,f)}),p=u.useMemo(()=>({setPositionReference:a}),[]),m=u.useMemo(()=>({reference:g||r.reference||null,floating:r.floating||null,domReference:r.reference}),[g,r.reference,r.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:l,elements:m,events:o,floatingId:s,refs:p}),[t,l,m,o,s,p])}function oo(e){e===void 0&&(e={});const{nodeId:t}=e,n=ro({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[i,o]=u.useState(null),[c,g]=u.useState(null),l=(s==null?void 0:s.domReference)||i,p=u.useRef(null),m=De();q(()=>{l&&(p.current=l)},[l]);const d=Bn({...e,elements:{...s,...c&&{reference:c}}}),v=u.useCallback(x=>{const C=he(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),getClientRects:()=>x.getClientRects(),contextElement:x}:x;g(C),d.refs.setReference(C)},[d.refs]),f=u.useCallback(x=>{(he(x)||x===null)&&(p.current=x,o(x)),(he(d.refs.reference.current)||d.refs.reference.current===null||x!==null&&!he(x))&&d.refs.setReference(x)},[d.refs]),I=u.useMemo(()=>({...d.refs,setReference:f,setPositionReference:v,domReference:p}),[d.refs,f,v]),S=u.useMemo(()=>({...d.elements,domReference:l}),[d.elements,l]),y=u.useMemo(()=>({...d,...r,refs:I,elements:S,nodeId:t}),[d,I,S,t,r]);return q(()=>{r.dataRef.current.floatingContext=y;const x=m==null?void 0:m.nodesRef.current.find(C=>C.id===t);x&&(x.context=y)}),u.useMemo(()=>({...d,context:y,refs:I,elements:S}),[d,I,S,y])}function Ct(){return br()&&In()}function so(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:s,dataRef:i,elements:o}=e,{enabled:c=!0,visibleOnly:g=!0}=t,a=u.useRef(!1),l=u.useRef(-1),p=u.useRef(!0);u.useEffect(()=>{if(!c)return;const d=Vn(o.domReference);function v(){!n&&we(o.domReference)&&o.domReference===Ie(ve(o.domReference))&&(a.current=!0)}function f(){p.current=!0}function I(){p.current=!1}return d.addEventListener("blur",v),Ct()&&(d.addEventListener("keydown",f,!0),d.addEventListener("pointerdown",I,!0)),()=>{d.removeEventListener("blur",v),Ct()&&(d.removeEventListener("keydown",f,!0),d.removeEventListener("pointerdown",I,!0))}},[o.domReference,n,c]),u.useEffect(()=>{if(!c)return;function d(v){let{reason:f}=v;(f==="reference-press"||f==="escape-key")&&(a.current=!0)}return s.on("openchange",d),()=>{s.off("openchange",d)}},[s,c]),u.useEffect(()=>()=>{me(l)},[]);const m=u.useMemo(()=>({onMouseLeave(){a.current=!1},onFocus(d){if(a.current)return;const v=Ce(d.nativeEvent);if(g&&he(v)){if(Ct()&&!d.relatedTarget){if(!p.current&&!Nt(v))return}else if(!Er(v))return}r(!0,d.nativeEvent,"focus")},onBlur(d){a.current=!1;const v=d.relatedTarget,f=d.nativeEvent,I=he(v)&&v.hasAttribute(Pe("focus-guard"))&&v.getAttribute("data-type")==="outside";l.current=window.setTimeout(()=>{var S;const y=Ie(o.domReference?o.domReference.ownerDocument:document);!v&&y===o.domReference||ge((S=i.current.floatingContext)==null?void 0:S.refs.floating.current,y)||ge(o.domReference,y)||I||r(!1,f,"focus")})}}),[i,o.domReference,r,g]);return u.useMemo(()=>c?{reference:m}:{},[c,m])}function Tt(e,t,n){const r=new Map,s=n==="item";let i=e;if(s&&e){const{[Vt]:o,[Gt]:c,...g}=e;i=g}return{...n==="floating"&&{tabIndex:-1,[Dr]:""},...i,...t.map(o=>{const c=o?o[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((o,c)=>(c&&Object.entries(c).forEach(g=>{let[a,l]=g;if(!(s&&[Vt,Gt].includes(a)))if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var p;(p=r.get(a))==null||p.push(l),o[a]=function(){for(var m,d=arguments.length,v=new Array(d),f=0;f<d;f++)v[f]=arguments[f];return(m=r.get(a))==null?void 0:m.map(I=>I(...v)).find(I=>I!==void 0)}}}else o[a]=l}),o),{})}}function io(e){e===void 0&&(e=[]);const t=e.map(c=>c==null?void 0:c.reference),n=e.map(c=>c==null?void 0:c.floating),r=e.map(c=>c==null?void 0:c.item),s=u.useCallback(c=>Tt(c,e,"reference"),t),i=u.useCallback(c=>Tt(c,e,"floating"),n),o=u.useCallback(c=>Tt(c,e,"item"),r);return u.useMemo(()=>({getReferenceProps:s,getFloatingProps:i,getItemProps:o}),[s,i,o])}const uo="Escape";function lt(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Je(e,t){return lt(t,e===Nn||e===ut,e===Ve||e===Ge)}function St(e,t,n){return lt(t,e===ut,n?e===Ve:e===Ge)||e==="Enter"||e===" "||e===""}function on(e,t,n){return lt(t,n?e===Ve:e===Ge,e===ut)}function sn(e,t,n,r){const s=n?e===Ge:e===Ve,i=e===Nn;return t==="both"||t==="horizontal"&&r&&r>1?e===uo:lt(t,s,i)}function Mo(e,t){const{open:n,onOpenChange:r,elements:s,floatingId:i}=e,{listRef:o,activeIndex:c,onNavigate:g=()=>{},enabled:a=!0,selectedIndex:l=null,allowEscape:p=!1,loop:m=!1,nested:d=!1,rtl:v=!1,virtual:f=!1,focusItemOnOpen:I="auto",focusItemOnHover:S=!0,openOnArrowKeyDown:y=!0,disabledIndices:x=void 0,orientation:C="vertical",parentOrientation:W,cols:K=1,scrollItemIntoView:B=!0,virtualItemRef:Z,itemSizes:V,dense:N=!1}=t,H=rt(s.floating),z=le(H),F=Le(),b=De();q(()=>{e.dataRef.current.orientation=C},[e,C]);const h=se(()=>{g(R.current===-1?null:R.current)}),D=Pt(s.domReference),T=u.useRef(I),R=u.useRef(l??-1),E=u.useRef(null),M=u.useRef(!0),G=u.useRef(h),w=u.useRef(!!s.floating),$=u.useRef(n),re=u.useRef(!1),ae=u.useRef(!1),J=le(x),ie=le(n),Y=le(B),Q=le(l),[fe,O]=u.useState(),[L,j]=u.useState(),_=se(()=>{function A(ne){if(f){var ce;(ce=ne.id)!=null&&ce.endsWith("-fui-option")&&(ne.id=i+"-"+Math.random().toString(16).slice(2,10)),O(ne.id),b==null||b.events.emit("virtualfocus",ne),Z&&(Z.current=ne)}else Me(ne,{sync:re.current,preventScroll:!0})}const U=o.current[R.current],k=ae.current;U&&A(U),(re.current?ne=>ne():requestAnimationFrame)(()=>{const ne=o.current[R.current]||U;if(!ne)return;U||A(ne);const ce=Y.current;ce&&oe&&(k||!M.current)&&(ne.scrollIntoView==null||ne.scrollIntoView(typeof ce=="boolean"?{block:"nearest",inline:"nearest"}:ce))})});q(()=>{a&&(n&&s.floating?T.current&&l!=null&&(ae.current=!0,R.current=l,h()):w.current&&(R.current=-1,G.current()))},[a,n,s.floating,l,h]),q(()=>{if(a&&n&&s.floating)if(c==null){if(re.current=!1,Q.current!=null)return;if(w.current&&(R.current=-1,_()),(!$.current||!w.current)&&T.current&&(E.current!=null||T.current===!0&&E.current==null)){let A=0;const U=()=>{o.current[0]==null?(A<2&&(A?requestAnimationFrame:queueMicrotask)(U),A++):(R.current=E.current==null||St(E.current,C,v)||d?yt(o,J.current):Wt(o,J.current),E.current=null,h())};U()}}else Ke(o,c)||(R.current=c,_(),ae.current=!1)},[a,n,s.floating,c,Q,d,o,C,v,h,_,J]),q(()=>{var A;if(!a||s.floating||!b||f||!w.current)return;const U=b.nodesRef.current,k=(A=U.find(ce=>ce.id===F))==null||(A=A.context)==null?void 0:A.elements.floating,te=Ie(ve(s.floating)),ne=U.some(ce=>ce.context&&ge(ce.context.elements.floating,te));k&&!ne&&M.current&&k.focus({preventScroll:!0})},[a,s.floating,b,F,f]),q(()=>{if(!a||!b||!f||F)return;function A(U){j(U.id),Z&&(Z.current=U)}return b.events.on("virtualfocus",A),()=>{b.events.off("virtualfocus",A)}},[a,b,f,F,Z]),q(()=>{G.current=h,$.current=n,w.current=!!s.floating}),q(()=>{n||(E.current=null,T.current=I)},[n,I]);const ue=c!=null,oe=u.useMemo(()=>{function A(k){if(!ie.current)return;const te=o.current.indexOf(k);te!==-1&&R.current!==te&&(R.current=te,h())}return{onFocus(k){let{currentTarget:te}=k;re.current=!0,A(te)},onClick:k=>{let{currentTarget:te}=k;return te.focus({preventScroll:!0})},...S&&{onMouseMove(k){let{currentTarget:te}=k;re.current=!0,ae.current=!1,A(te)},onPointerLeave(k){let{pointerType:te}=k;if(!(!M.current||te==="touch")&&(re.current=!0,R.current=-1,h(),!f)){var ne;(ne=z.current)==null||ne.focus({preventScroll:!0})}}}}},[ie,z,S,o,h,f]),Re=u.useCallback(()=>{var A;return W??(b==null||(A=b.nodesRef.current.find(U=>U.id===F))==null||(A=A.context)==null||(A=A.dataRef)==null?void 0:A.current.orientation)},[F,b,W]),ye=se(A=>{if(M.current=!1,re.current=!0,A.which===229||!ie.current&&A.currentTarget===z.current)return;if(d&&sn(A.key,C,v,K)){Je(A.key,Re())||pe(A),r(!1,A.nativeEvent,"list-navigation"),we(s.domReference)&&(f?b==null||b.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const U=R.current,k=yt(o,x),te=Wt(o,x);if(D||(A.key==="Home"&&(pe(A),R.current=k,h()),A.key==="End"&&(pe(A),R.current=te,h())),K>1){const ne=V||Array.from({length:o.current.length},()=>({width:1,height:1})),ce=Pr(ne,K,N),je=ce.findIndex(xe=>xe!=null&&!Qe(o,xe,x)),Ue=ce.reduce((xe,Se,qe)=>Se!=null&&!Qe(o,Se,x)?qe:xe,-1),_e=ce[kr({current:ce.map(xe=>xe!=null?o.current[xe]:null)},{event:A,orientation:C,loop:m,rtl:v,cols:K,disabledIndices:Or([...(typeof x!="function"?x:null)||o.current.map((xe,Se)=>Qe(o,Se,x)?Se:void 0),void 0],ce),minIndex:je,maxIndex:Ue,prevIndex:Nr(R.current>te?k:R.current,ne,ce,K,A.key===ut?"bl":A.key===(v?Ve:Ge)?"tr":"tl"),stopEvent:!0})];if(_e!=null&&(R.current=_e,h()),C==="both")return}if(Je(A.key,C)){if(pe(A),n&&!f&&Ie(A.currentTarget.ownerDocument)===A.currentTarget){R.current=St(A.key,C,v)?k:te,h();return}St(A.key,C,v)?m?R.current=U>=te?p&&U!==o.current.length?-1:k:be(o,{startingIndex:U,disabledIndices:x}):R.current=Math.min(te,be(o,{startingIndex:U,disabledIndices:x})):m?R.current=U<=k?p&&U!==-1?o.current.length:te:be(o,{startingIndex:U,decrement:!0,disabledIndices:x}):R.current=Math.max(k,be(o,{startingIndex:U,decrement:!0,disabledIndices:x})),Ke(o,R.current)&&(R.current=-1),h()}}),X=u.useMemo(()=>f&&n&&ue&&{"aria-activedescendant":L||fe},[f,n,ue,L,fe]),ee=u.useMemo(()=>({"aria-orientation":C==="both"?void 0:C,...D?{}:X,onKeyDown:ye,onPointerMove(){M.current=!0}}),[X,ye,C,D]),Ee=u.useMemo(()=>{function A(k){I==="auto"&&Tn(k.nativeEvent)&&(T.current=!0)}function U(k){T.current=I,I==="auto"&&Sn(k.nativeEvent)&&(T.current=!0)}return{...X,onKeyDown(k){M.current=!1;const te=k.key.startsWith("Arrow"),ne=["Home","End"].includes(k.key),ce=te||ne,je=on(k.key,C,v),Ue=sn(k.key,C,v,K),_e=on(k.key,Re(),v),xe=Je(k.key,C),Se=(d?_e:xe)||k.key==="Enter"||k.key.trim()==="";if(f&&n){const He=b==null?void 0:b.nodesRef.current.find(ze=>ze.parentId==null),Te=b&&He?wr(b.nodesRef.current,He.id):null;if(ce&&Te&&Z){const ze=new KeyboardEvent("keydown",{key:k.key,bubbles:!0});if(je||Ue){var qe,Ot;const Wn=((qe=Te.context)==null?void 0:qe.elements.domReference)===k.currentTarget,Lt=Ue&&!Wn?(Ot=Te.context)==null?void 0:Ot.elements.domReference:je?o.current.find(Dt=>(Dt==null?void 0:Dt.id)===fe):null;Lt&&(pe(k),Lt.dispatchEvent(ze),j(void 0))}if((xe||ne)&&Te.context&&Te.context.open&&Te.parentId&&k.currentTarget!==Te.context.elements.domReference){var Ft;pe(k),(Ft=Te.context.elements.domReference)==null||Ft.dispatchEvent(ze);return}}return ye(k)}if(!(!n&&!y&&te)){if(Se){const He=Je(k.key,Re());E.current=d&&He?null:k.key}if(d){_e&&(pe(k),n?(R.current=yt(o,J.current),h()):r(!0,k.nativeEvent,"list-navigation"));return}xe&&(l!=null&&(R.current=l),pe(k),!n&&y?r(!0,k.nativeEvent,"list-navigation"):ye(k),n&&h())}},onFocus(){n&&!f&&(R.current=-1,h())},onPointerDown:U,onPointerEnter:U,onMouseDown:A,onClick:A}},[fe,X,K,ye,J,I,o,d,h,r,n,y,C,Re,v,l,b,f,Z]);return u.useMemo(()=>a?{reference:Ee,floating:ee,item:oe}:{},[a,Ee,ee,oe])}const co=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function ao(e,t){var n,r;t===void 0&&(t={});const{open:s,elements:i,floatingId:o}=e,{enabled:c=!0,role:g="dialog"}=t,a=ct(),l=((n=i.domReference)==null?void 0:n.id)||a,p=u.useMemo(()=>{var y;return((y=rt(i.floating))==null?void 0:y.id)||o},[i.floating,o]),m=(r=co.get(g))!=null?r:g,v=Le()!=null,f=u.useMemo(()=>m==="tooltip"||g==="label"?{["aria-"+(g==="label"?"labelledby":"describedby")]:s?p:void 0}:{"aria-expanded":s?"true":"false","aria-haspopup":m==="alertdialog"?"dialog":m,"aria-controls":s?p:void 0,...m==="listbox"&&{role:"combobox"},...m==="menu"&&{id:l},...m==="menu"&&v&&{role:"menuitem"},...g==="select"&&{"aria-autocomplete":"none"},...g==="combobox"&&{"aria-autocomplete":"list"}},[m,p,v,s,l,g]),I=u.useMemo(()=>{const y={id:p,...m&&{role:m}};return m==="tooltip"||g==="label"?y:{...y,...m==="menu"&&{"aria-labelledby":l}}},[m,p,l,g]),S=u.useCallback(y=>{let{active:x,selected:C}=y;const W={role:"option",...x&&{id:p+"-fui-option"}};switch(g){case"select":return{...W,"aria-selected":x&&C};case"combobox":return{...W,"aria-selected":C}}return{}},[p,g]);return u.useMemo(()=>c?{reference:f,floating:I,item:S}:{},[c,f,I,S])}const un=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Ne(e,t){return typeof e=="function"?e(t):e}function lo(e,t){const[n,r]=u.useState(e);return e&&!n&&r(!0),u.useEffect(()=>{if(!e&&n){const s=setTimeout(()=>r(!1),t);return()=>clearTimeout(s)}},[e,n,t]),n}function fo(e,t){t===void 0&&(t={});const{open:n,elements:{floating:r}}=e,{duration:s=250}=t,o=(typeof s=="number"?s:s.close)||0,[c,g]=u.useState("unmounted"),a=lo(n,o);return!a&&c==="close"&&g("unmounted"),q(()=>{if(r){if(n){g("initial");const l=requestAnimationFrame(()=>{fn.flushSync(()=>{g("open")})});return()=>{cancelAnimationFrame(l)}}g("close")}},[n,r]),{isMounted:a,status:c}}function Ao(e,t){t===void 0&&(t={});const{initial:n={opacity:0},open:r,close:s,common:i,duration:o=250}=t,c=e.placement,g=c.split("-")[0],a=u.useMemo(()=>({side:g,placement:c}),[g,c]),l=typeof o=="number",p=(l?o:o.open)||0,m=(l?o:o.close)||0,[d,v]=u.useState(()=>({...Ne(i,a),...Ne(n,a)})),{isMounted:f,status:I}=fo(e,{duration:o}),S=le(n),y=le(r),x=le(s),C=le(i);return q(()=>{const W=Ne(S.current,a),K=Ne(x.current,a),B=Ne(C.current,a),Z=Ne(y.current,a)||Object.keys(W).reduce((V,N)=>(V[N]="",V),{});if(I==="initial"&&v(V=>({transitionProperty:V.transitionProperty,...B,...W})),I==="open"&&v({transitionProperty:Object.keys(Z).map(un).join(","),transitionDuration:p+"ms",...B,...Z}),I==="close"){const V=K||W;v({transitionProperty:Object.keys(V).map(un).join(","),transitionDuration:m+"ms",...B,...V})}},[m,x,S,y,C,p,I,a]),{isMounted:f,styles:d}}function ko(e,t){var n;const{open:r,dataRef:s}=e,{listRef:i,activeIndex:o,onMatch:c,onTypingChange:g,enabled:a=!0,findMatch:l=null,resetMs:p=750,ignoreKeys:m=[],selectedIndex:d=null}=t,v=u.useRef(-1),f=u.useRef(""),I=u.useRef((n=d??o)!=null?n:-1),S=u.useRef(null),y=se(c),x=se(g),C=le(l),W=le(m);q(()=>{r&&(me(v),S.current=null,f.current="")},[r]),q(()=>{if(r&&f.current===""){var N;I.current=(N=d??o)!=null?N:-1}},[r,d,o]);const K=se(N=>{N?s.current.typing||(s.current.typing=N,x(N)):s.current.typing&&(s.current.typing=N,x(N))}),B=se(N=>{function H(D,T,R){const E=C.current?C.current(T,R):T.find(M=>(M==null?void 0:M.toLocaleLowerCase().indexOf(R.toLocaleLowerCase()))===0);return E?D.indexOf(E):-1}const z=i.current;if(f.current.length>0&&f.current[0]!==" "&&(H(z,z,f.current)===-1?K(!1):N.key===" "&&pe(N)),z==null||W.current.includes(N.key)||N.key.length!==1||N.ctrlKey||N.metaKey||N.altKey)return;r&&N.key!==" "&&(pe(N),K(!0)),z.every(D=>{var T,R;return D?((T=D[0])==null?void 0:T.toLocaleLowerCase())!==((R=D[1])==null?void 0:R.toLocaleLowerCase()):!0})&&f.current===N.key&&(f.current="",I.current=S.current),f.current+=N.key,me(v),v.current=window.setTimeout(()=>{f.current="",I.current=S.current,K(!1)},p);const b=I.current,h=H(z,[...z.slice((b||0)+1),...z.slice(0,(b||0)+1)],f.current);h!==-1?(y(h),S.current=h):N.key!==" "&&(f.current="",K(!1))}),Z=u.useMemo(()=>({onKeyDown:B}),[B]),V=u.useMemo(()=>({onKeyDown:B,onKeyUp(N){N.key===" "&&K(!1)}}),[B,K]);return u.useMemo(()=>a?{reference:Z,floating:V}:{},[a,Z,V])}function Kn(e,t,n){return n===void 0&&(n=!0),e.filter(s=>{var i;return s.parentId===t&&(!n||((i=s.context)==null?void 0:i.open))}).flatMap(s=>[s,...Kn(e,s.id,n)])}function cn(e,t){const[n,r]=e;let s=!1;const i=t.length;for(let o=0,c=i-1;o<i;c=o++){const[g,a]=t[o]||[0,0],[l,p]=t[c]||[0,0];a>=r!=p>=r&&n<=(l-g)*(r-a)/(p-a)+g&&(s=!s)}return s}function mo(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Po(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,s={current:-1};let i=!1,o=null,c=null,g=performance.now();function a(p,m){const d=performance.now(),v=d-g;if(o===null||c===null||v===0)return o=p,c=m,g=d,null;const f=p-o,I=m-c,y=Math.sqrt(f*f+I*I)/v;return o=p,c=m,g=d,y}const l=p=>{let{x:m,y:d,placement:v,elements:f,onClose:I,nodeId:S,tree:y}=p;return function(C){function W(){me(s),I()}if(me(s),!f.domReference||!f.floating||v==null||m==null||d==null)return;const{clientX:K,clientY:B}=C,Z=[K,B],V=Br(C),N=C.type==="mouseleave",H=wt(f.floating,V),z=wt(f.domReference,V),F=f.domReference.getBoundingClientRect(),b=f.floating.getBoundingClientRect(),h=v.split("-")[0],D=m>b.right-b.width/2,T=d>b.bottom-b.height/2,R=mo(Z,F),E=b.width>F.width,M=b.height>F.height,G=(E?F:b).left,w=(E?F:b).right,$=(M?F:b).top,re=(M?F:b).bottom;if(H&&(i=!0,!N))return;if(z&&(i=!1),z&&!N){i=!0;return}if(N&&he(C.relatedTarget)&&wt(f.floating,C.relatedTarget)||y&&Kn(y.nodesRef.current,S).length)return;if(h==="top"&&d>=F.bottom-1||h==="bottom"&&d<=F.top+1||h==="left"&&m>=F.right-1||h==="right"&&m<=F.left+1)return W();let ae=[];switch(h){case"top":ae=[[G,F.top+1],[G,b.bottom-1],[w,b.bottom-1],[w,F.top+1]];break;case"bottom":ae=[[G,b.top+1],[G,F.bottom-1],[w,F.bottom-1],[w,b.top+1]];break;case"left":ae=[[b.right-1,re],[b.right-1,$],[F.left+1,$],[F.left+1,re]];break;case"right":ae=[[F.right-1,re],[F.right-1,$],[b.left+1,$],[b.left+1,re]];break}function J(ie){let[Y,Q]=ie;switch(h){case"top":{const fe=[E?Y+t/2:D?Y+t*4:Y-t*4,Q+t+1],O=[E?Y-t/2:D?Y+t*4:Y-t*4,Q+t+1],L=[[b.left,D||E?b.bottom-t:b.top],[b.right,D?E?b.bottom-t:b.top:b.bottom-t]];return[fe,O,...L]}case"bottom":{const fe=[E?Y+t/2:D?Y+t*4:Y-t*4,Q-t],O=[E?Y-t/2:D?Y+t*4:Y-t*4,Q-t],L=[[b.left,D||E?b.top+t:b.bottom],[b.right,D?E?b.top+t:b.bottom:b.top+t]];return[fe,O,...L]}case"left":{const fe=[Y+t+1,M?Q+t/2:T?Q+t*4:Q-t*4],O=[Y+t+1,M?Q-t/2:T?Q+t*4:Q-t*4];return[...[[T||M?b.right-t:b.left,b.top],[T?M?b.right-t:b.left:b.right-t,b.bottom]],fe,O]}case"right":{const fe=[Y-t,M?Q+t/2:T?Q+t*4:Q-t*4],O=[Y-t,M?Q-t/2:T?Q+t*4:Q-t*4],L=[[T||M?b.left+t:b.right,b.top],[T?M?b.left+t:b.right:b.left+t,b.bottom]];return[fe,O,...L]}}}if(!cn([K,B],ae)){if(i&&!R)return W();if(!N&&r){const ie=a(C.clientX,C.clientY);if(ie!==null&&ie<.1)return W()}cn([K,B],J([m,d]))?!i&&r&&(s.current=window.setTimeout(W,40)):W()}}};return l.__options={blockPointerEvents:n},l}const $n=e=>{const{className:t,children:n,isOpen:r=!1,placement:s="top",title:i,wrapperClass:o,disabled:c}=e,[g,a]=u.useState(r),l={background:"bg-gray-800 dark:bg-black",arrow:"text-gray-800 dark:text-black"},p=`tooltip ${l.background}`,{refs:m,floatingStyles:d,context:v}=oo({open:r,onOpenChange:W=>{c||a(W)},placement:s,whileElementsMounted:Xn,middleware:[Hn(7),zn({fallbackAxisSideDirection:"start"}),Yn()]}),f=Wr(v,{move:!1}),I=so(v),S=no(v),y=ao(v,{role:"tooltip"}),{getReferenceProps:x,getFloatingProps:C}=io([f,I,S,y]);return P.jsxs(P.Fragment,{children:[P.jsx("span",{ref:m.setReference,...x(),className:de("tooltip-wrapper",o),children:n}),P.jsx(zr,{children:g&&P.jsx(Zn,{children:P.jsxs(Jn.div,{ref:m.setFloating,className:de(p,t),initial:{opacity:0,visibility:"hidden"},animate:g?{opacity:1,visibility:"visible"}:{opacity:0,visibility:"hidden"},transition:{duration:.15,type:"tween"},style:d,...C(),children:[P.jsx("span",{children:i}),P.jsx(er,{placement:v.placement,color:l.arrow})]})})})]})};$n.displayName="Tooltip";const an=({children:e,chained:t,className:n})=>P.jsx("div",{className:de("avatar-group",t&&"avatar-group-chained",n),children:e}),go=e=>{const{chained:t=!1,children:n,className:r,maxCount:s=4,onOmittedAvatarClick:i,omittedAvatarContent:o,omittedAvatarProps:c,omittedAvatarTooltip:g=!1,omittedAvatarTooltipProps:a}=e,l=u.Children.count(n),p=u.Children.toArray(n).map((m,d)=>u.cloneElement(m,{key:`grouped-avatar-${d}`}));if(s&&s<l){const m=p.slice(0,s),d=l-s,v=P.jsx(gn,{className:i?"cursor-pointer":"",onClick:()=>i==null?void 0:i(),...c,children:o||`+${d}`});return m.push(g?P.jsx($n,{title:`${d} More`,...a,children:P.jsx(P.Fragment,{children:v})},"avatar-more-tooltip"):P.jsx(u.Fragment,{children:v},"avatar-more-tooltip")),P.jsx(an,{className:r,chained:t,children:m})}return P.jsx(an,{className:r,chained:t,children:n})},po=gn;po.Group=go;export{po as A,Io as F,$n as T,wo as a,Le as b,Eo as c,oo as d,Ao as e,Wr as f,So as g,ao as h,no as i,Mo as j,ko as k,io as l,yo as m,xo as n,zr as o,To as p,Co as q,Po as s,De as u};
