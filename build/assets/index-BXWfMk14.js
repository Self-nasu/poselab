import{r as y,E as C,j as e,n as U}from"./index-B-yiBXzM.js";import{L as A}from"./Logo-CSBK5Y8_.js";import{A as B}from"./alert-C9PVow5I.js";import{I as l}from"./index-Cs0IGsSJ.js";import{B as q}from"./index-C5YOWs5V.js";import{u as F,F as E,a as d,C as c,t as M,o as T,s as p,b as _,A as I}from"./useTimeOutMessage-C48nxMuN.js";import"./classNames-OB5FZ5g2.js";const L=T({email:p({required_error:"Please enter your email"}),userName:p({required_error:"Please enter your name"}),password:p({required_error:"Password Required"}),confirmPassword:p({required_error:"Confirm Password Required"})}).refine(a=>a.password===a.confirmPassword,{message:"Password not match",path:["confirmPassword"]}),R=a=>{var f,h,g,j;const{disableSubmit:u=!1,className:n,setMessage:o}=a,[x,t]=y.useState(!1),{signUp:w}=C(),{handleSubmit:b,formState:{errors:r},control:i}=F({resolver:M(L)}),S=async s=>{const{userName:P,password:N,email:v}=s;if(!u){t(!0);const m=await w({userName:P,password:N,email:v});(m==null?void 0:m.status)==="failed"&&(o==null||o(m.message)),t(!1)}};return e.jsx("div",{className:n,children:e.jsxs(E,{onSubmit:b(S),children:[e.jsx(d,{label:"User name",invalid:!!r.userName,errorMessage:(f=r.userName)==null?void 0:f.message,children:e.jsx(c,{name:"userName",control:i,render:({field:s})=>e.jsx(l,{type:"text",placeholder:"User Name",autoComplete:"off",...s})})}),e.jsx(d,{label:"Email",invalid:!!r.email,errorMessage:(h=r.email)==null?void 0:h.message,children:e.jsx(c,{name:"email",control:i,render:({field:s})=>e.jsx(l,{type:"email",placeholder:"Email",autoComplete:"off",...s})})}),e.jsx(d,{label:"Password",invalid:!!r.password,errorMessage:(g=r.password)==null?void 0:g.message,children:e.jsx(c,{name:"password",control:i,render:({field:s})=>e.jsx(l,{type:"password",autoComplete:"off",placeholder:"Password",...s})})}),e.jsx(d,{label:"Confirm Password",invalid:!!r.confirmPassword,errorMessage:(j=r.confirmPassword)==null?void 0:j.message,children:e.jsx(c,{name:"confirmPassword",control:i,render:({field:s})=>e.jsx(l,{type:"password",autoComplete:"off",placeholder:"Confirm Password",...s})})}),e.jsx(q,{variant:"default",type:"submit",children:x?"Creating Account...":"Sign Up"})]})})},k=({signInUrl:a="/sign-in",disableSubmit:u})=>{const[n,o]=_(),x=U(t=>t.mode);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsx(A,{type:"streamline",mode:x,imgClass:"mx-auto",logoWidth:60})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"mb-1",children:"Sign Up"}),e.jsx("p",{className:"font-semibold heading-text",children:"And lets get started with your free trial"})]}),n&&e.jsx(B,{children:e.jsx("span",{className:"break-all",children:n})}),e.jsx(R,{disableSubmit:u,setMessage:o}),e.jsx("div",{children:e.jsxs("div",{className:"mt-6 text-center",children:[e.jsx("span",{children:"Already have an account? "}),e.jsx(I,{to:a,className:"heading-text font-bold",themeColor:!1,children:"Sign in"})]})})]})},K=()=>e.jsx(k,{});export{k as SignUpBase,K as default};
